<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0.1//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="author" content="">
<link media="screen" type="text/css" rel="stylesheet" href="./css/apache.css">
<link media="print" type="text/css" rel="stylesheet" href="./css/print.css">
<title>Migration Howto</title>
</head>
<body>
<table width="100%" cellspacing="0" id="header">
<tr>
<td id="projectLogo" class="logo"><a href="http://jakarta.apache.org/"><img alt="The Apache Jakarta Project" src="./images/jakarta-logo.gif"></a></td><td id="subprojectLogo" class="logo"><a href="http://jakarta.apache.org/cactus/"><img alt="Migration Howto" src="./images/logocactus.gif"></a></td>
</tr>
<tr id="contextBar">
<td id="breadCrumbs"><a href="http://www.apache.org/">Apache</a> &gt; <a href="http://jakarta.apache.org/">Jakarta</a> &gt; <a href="./index.html">Cactus</a></td><td id="status">
              Docs for:
              <strong>v1.7.2</strong> | <a href="./..">v1.7</a>
              &nbsp;&nbsp;
              Last update: March 26 2006</td>
</tr>
</table>
<table id="main">
<tr>
<td id="sidebar">
<div id="navigation">
<ul>

  
<li>About<ul>
    
<li>
<a href="./index.html" title="Describes what the Cactus framework is, defines several types of unit tests and explains which are best implemented with Cactus.">Overview</a>
</li>
    
<li>
<a href="./goals.html" title="Short and long term goals for Cactus.">Goals</a>
</li>
    
<li>
<a href="./features.html" title="Cactus feature list.">Features</a>
</li>
    
<li>
<a href="./news.html" title="Latest news and events about Cactus.">News</a>
</li>
    
<li>
<a href="./changes.html" title="Cactus release changelogs and list of all the web site pages that have been recently changed.">Changes</a>
</li>
    
<li>
<a href="./downloads.html" title="Downloads of Cactus releases and nightly builds.">Downloads</a>
</li>
    
<li>
<a target="bug_database" href="http://issues.apache.org/jira/secure/BrowseProject.jspa?id=10471">Bug Database</a>
</li>
    
<li>
<a href="./mailinglist.html" title="Information about the Cactus mailing lists.">Mailing Lists</a>
</li>
    
<li>
<a href="./faq.html" title="Questions frequently asked (and sometimes answered)">FAQ</a>
</li>
    
<li>
<a target="cactus_wiki" href="http://wiki.apache.org/jakarta-cactus/FrontPage">Wiki</a>
</li>
    
<li>
<a href="./license.html" title="The Cactus License.">License</a>
</li>
  
</ul>
</li>

  
<li>Documentation<ul>
    
<li>
<a href="./getting_started.html" title="Gentle introduction to get you up to speed with Cactus.">Getting Started</a>
</li>
    
<li>
<a href="./how_it_works.html" title="High level view of the inner workings of Cactus.">How It Works</a>
</li>
    
<li>
<a href="./writing/howto_testcase.html" title="Introduction to writing Cactus-based unit tests.">Writing Tests</a>
</li>
    
<li>
<a href="./integration/index.html" title="Information on the various methods of running tests with Cactus.">Running Tests</a>
</li>
    
<li>
<a href="./participating/index.html" title="Information on participating in the development of Cactus.">Participating</a>
</li>
  
</ul>
</li>

  
<li>Miscellaneous<ul>
    
<li>
<a href="./cactusname.html" title="Some background information about how Cactus got its name.">Why the Name?</a>
</li>
    
<li>
<a href="./mock_vs_cactus.html" title="Discussion of in-container testing as compared to using a mock objects approach.">Mock vs Container</a>
</li>
    
<li>
<a target="cactus_testedon" href="http://wiki.apache.org/jakarta-cactus/TestedOn">Tested On...</a>
</li>
    
<li>
<a href="./resources/index.html" title="Links to Cactus related resources.">Resources</a>
</li>
    
<li>
<a target="stats" href="http://jakarta.apache.org/cactus/stats/index.html">Statistics</a>
</li>
    
<li>
<a href="./sitemap.html" title="List of all site resources.">Sitemap</a>
</li>
  
</ul>
</li>

  
<li>Translations<ul>
    
<li>
<a target="french" href="http://www.ressources-java.net/cactus">French</a>
</li>
    
<li>
<a target="korean" href="http://jakarta.apache-korea.org/cactus/index.html">Korean</a>
</li>
    
<li>
<a target="japanese" href="http://www.ingrid.org/jajakarta/cactus/">Japanese</a>
</li>
  
</ul>
</li>


<li>
<img src="images/cactusbanner.gif"></li>
</ul>
</div>
</td><td id="content">

  

  

    
<div class="section">
<h1>From Cactus 1.4.1 to newer version</h1>

      
<p>
        Release notes are now provided in the distribution in an
        ANNOUNCEMENT.txt file. Please make sure you read it.
      </p>

    
</div>
    
    
<div class="section">
<h1>From Cactus 1.3 to 1.4</h1>

      
<p>
        See the 
        <a href="./changes.html#release_changes">Changes</a> 
        page for full list of changes.
      </p>
      
<p>
        Here are the changes that might affect your previous installation of
        Cactus 1.3:
      </p>
      
<ul>
        
<li>
          Configuring Cactus logging has changed. See the
          <a href="./integration/manual/howto_config.html" title="Information on how to configure Cactus when running tests manually.">Config Howto</a> page. Thus, the old
          <code>cactus.enableLogging</code> property no longer has any effect.
        </li>
        
<li>
          One new jar needs to be put in both client and server side classpaths:
          <code>commons-logging.jar</code>, due to the new logging system.
        </li>
        
<li>
          The following classes have been removed (they were
          deprecated in Cactus 1.2):
          <ul>
            
<li>
              
<code>org.apache.cactus.ServletTestRequest</code>,
            </li>
            
<li>
              
<code>org.apache.cactus.util.ClientCookie</code>,
            </li>
            
<li>
              
<code>org.apache.cactus.util.AssertUtils</code>
            
</li>
          
</ul>
        
</li>
        
<li>
          External jars provided by Cactus have been renamed to contain their
          version suffixed to their name.
        </li>
        
<li>
          The <code>jspRedirector.jsp</code> now creates a HTTP Session by
          default (it was not previously).
        </li>
      
</ul>

    
</div>

    
<div class="section">
<h1>From Cactus 1.2 to 1.3</h1>

      
<p>
        Here are the steps to migrate from Cactus 1.2 to 1.3
      </p>

      
<div class="note">
        This migration guide does not explain any of the new feature of
        Cactus 1.3 but concentrates on making you move from Cactus 1.2 to 1.3.
      </div>

      
<p>
        Let's call <code>CACTUS_HOME</code> the directory where you unzipped
        the Cactus distribution.
      </p>

      
<p>
        Follow these steps:
      </p>
      
      
<div class="section">
<h2>Step 1</h2>

        
<p>
          Put <code>aspectjrt.jar</code> (found in
          <code>CACTUS_HOME/lib</code>) in both your client side and server
          side classpaths.
        </p>

      
</div>

      
<div class="section">
<h2>Step 2</h2>

        
<p>
          Modify your <code>cactus.properties</code> to the new format. For
          example:
        </p>

<div class="source">
<pre>
cactus.contextURL = http://localhost:8000/cactus
cactus.servletRedirectorName = ServletRedirector
</pre>
</div>

      
</div>

      
<div class="section">
<h2>Step 3</h2>

        
<p>
          Ensure that <code>cactus.servletRedirectorName</code> does not end
          with a "/" and that the mapping in <code>web.xml</code> matches it:
        </p>

<div class="source">
<pre>
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;ServletRedirector&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/ServletRedirector&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
</pre>
</div>

      
</div>

      
<p>
        The Cactus sample is supposed to work with Ant 1.4. However, we
        introduced an incompatibility at the last moment (i.e. a feature only
        supported by Ant 1.5). If you're using Ant 1.4, simply remove the
        failing line (it is an optional line).
      </p>

    
</div>

  

</td>
</tr>
</table>
<div id="footer">
<p>
	    Copyright &copy; 2000-2004 The Apache Software Foundation.
            All Rights Reserved.
	  </p>
</div>
</body>
</html>
