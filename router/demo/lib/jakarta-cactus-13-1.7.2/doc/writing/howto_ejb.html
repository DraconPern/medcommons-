<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0.1//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="author" content="">
<link media="screen" type="text/css" rel="stylesheet" href=".././css/apache.css">
<link media="print" type="text/css" rel="stylesheet" href=".././css/print.css">
<title>EJB Testing with Cactus Howto</title>
</head>
<body>
<table width="100%" cellspacing="0" id="header">
<tr>
<td id="projectLogo" class="logo"><a href="http://jakarta.apache.org/"><img alt="The Apache Jakarta Project" src=".././images/jakarta-logo.gif"></a></td><td id="subprojectLogo" class="logo"><a href="http://jakarta.apache.org/cactus/"><img alt="EJB Testing with Cactus Howto" src=".././images/logocactus.gif"></a></td>
</tr>
<tr id="contextBar">
<td id="breadCrumbs"><a href="http://www.apache.org/">Apache</a> &gt; <a href="http://jakarta.apache.org/">Jakarta</a> &gt; <a href=".././index.html">Cactus</a> &gt; <a href=".././writing/howto_testcase.html">Writing Tests</a></td><td id="status">
              Docs for:
              <strong>v1.7.2</strong> | <a href=".././..">v1.7</a>
              &nbsp;&nbsp;
              Last update: March 26 2006</td>
</tr>
</table>
<table id="main">
<tr>
<td id="sidebar">
<div id="navigation">
<ul>

  
<li>
<a href=".././index.html" title="Describes what the Cactus framework is, defines several types of unit tests and explains which are best implemented with Cactus.">Main Page</a>
<ul></ul>
</li>

  
<li>Writing Tests<ul>
    
<li>
<a href=".././writing/howto_testcase.html" title="Introduction to writing Cactus-based unit tests.">General Principles</a>
</li>
    
<li>
<a href=".././writing/howto_testcase_servlet.html" title="Information on writing Cactus-based tests to test Servlets.">Testing Servlets</a>
</li>
    
<li>
<a href=".././writing/howto_testcase_filter.html" title="How to write unit tests for Servlet Filters using Cactus.">Testing Filters</a>
</li>
    
<li>
<a href=".././writing/howto_jsp.html" title="How to write unit tests for JSP pages using Cactus.">Testing JSP Pages</a>
</li>
    
<li>
<a href=".././writing/howto_testcase_jsp.html" title="How to write unit tests for JSP tag libraries using Cactus.">Testing Taglibs</a>
</li>
    
<li>
<a href=".././writing/howto_ejb.html" title="How to test Enterprise JavaBeans using Cactus." class="currentPage">Testing EJBs</a>
</li>
  
</ul>
</li>

  
<li>Advanced Topics<ul>
    
<li>
<a href=".././writing/howto_httpunit.html" title="How to use HttpUnit tests inside Cactus test cases">Integrating HttpUnit</a>
</li>
    
<li>
<a href=".././writing/howto_security.html" title="">Using Authentication</a>
</li>
  
</ul>
</li>

  
<li>Reference<ul>
    
<li>
<a href=".././api/framework-12/index.html" title="">Javadocs (J2EE 1.2)</a>
</li>
    
<li>
<a href=".././api/framework-13/index.html" title="">Javadocs (J2EE 1.3)</a>
</li>
  
</ul>
</li>


<li>
<img src="images/cactusbanner.gif"></li>
</ul>
</div>
</td><td id="content">

  

  

  
<div class="section">
<h1>Introduction</h1>

    
<p>
      This document explains how to unit test EJBs with Cactus. It is
      divided in 2 parts:
    </p>
    
<ul>
      
<li>
        
<a href="#ejb_general">General concepts</a>: explains the
        generic concepts behind EJB unit testing with Cactus,
      </li>
      
<li>
        
<a href="#ejb_j2eeri">J2EE RI tutorial</a>: provides a
        detailed tutorial, on a sample, on how to explicitely perform EJB
        unit testing with the
        <a href="http://java.sun.com/j2ee/download.html#sdk" title="">J2EE Reference
        Implementation</a> server from Sun.
      </li>
    
</ul>

    
<div class="note">
      EJB unit testing works with Cactus 1.0 or later.
    </div>

  
</div>

  
<a name="ejb_general">
<!--anchor--></a>
  
<div class="section">
<h1>General Concepts</h1>

    
<div class="section">
<h2>Why use Cactus for testing EJBs?</h2>

      
<p>
        You might be wondering why you would use Cactus to unit test your
        EJBs whereas you could use standard JUnit test cases. Indeed,
        you could write a standard JUnit test case and view your code as
        client side code for the EJB to test ... There are actually a few
        reasons to choose Cactus instead:
      </p>
      
<ul>
        
<li>
          If you are using local interfaces (EJB 2.0), then your beans cannot be called remotely
          (i.e. the caller need to be in the same jvm). However, as all Cactus redirectors run on
          the server side, you can unit test your local interfaces with Cactus.
        </li>
        
<li>
          Very often the production code that will call the EJBs is server
          side code (Servlets, JSPs, Tag libs or Filters). This means that if
          you run the tests from a standard JUnit test case, your tests will
          run in a different execution environment than the production one,
          which can lead to different test results,
        </li>
        
<li>
          An application using EJBs very often includes a front end part which
          is in almost all cases a web application (i.e. using Servlets,
          JSP, Tag libs or Filters). It means that you would also need a
          framework for unit testing these components. Cactus is providing
          a comprehensive and consistent framework for testing all server
          side components. This is a compelling enough reason to use it !
        </li>
        
<li>
          Cactus provides automated Ant tasks to automatically start your
          EJB server, run the tests and stop it, thus automating your
          entire test process and making it easy to implement continuous
          build and continuous integration of your J2EE project.
        </li>
      
</ul>

    
</div>

    
<div class="section">
<h2>The process</h2>

      
<p>
        You can unit test your EJBs from any of Cactus redirectors:
        <code>ServletTestCase</code>, <code>JspTestCase</code> or
        <code>FilterTestCase</code>.
      </p>
      
<p>
        This means that you would write a test case class that extends any
        of Cactus redirectors, get a home reference to your EJB, create an
        instance of it, call the method to test and perform asserts on the
        result.
      </p>
      
<p>
        It is that simple ! What is slightly more complex is the deployment
        of your EJBs to your EJB container but you should be familiar with
        this, right?
      </p>

    
</div>

  
</div>

  
<a name="ejb_j2eeri">
<!--anchor--></a>
  
<div class="section">
<h1>J2EE RI Tutorial</h1>

    
<p>
      This <a href=".././writing/howto_ejb_j2eeri.html" title="Information on running EJB unit tests against the J2EE reference implementation.">J2EE RI tutorial</a>
      is a step by step guide for writing Cactus EJB unit test for the
      Sun J2EE RI server.
    </p>

  
</div>

  

</td>
</tr>
</table>
<div id="footer">
<p>
	    Copyright &copy; 2000-2004 The Apache Software Foundation.
            All Rights Reserved.
	  </p>
</div>
</body>
</html>
